<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.lilei.iplay.model.Entertainment">

    <resultMap type="Entertainment" id="entertainmentMap">
        <id column="id" property="id"/>
        <result column="title" property="title"/>
        <result column="entertainment_surface" property="entertainmentSurface"/>
        <result column="content" property="content"/>
        <result column="publish_time" property="publishTime"/>
    </resultMap>

    <resultMap type="com.lilei.iplay.model.EntertainmentDescribeVo" id="entertainmentDescribeVoMap" extends="entertainmentMap">
        <result column="head_pic_url" property="headPicUrl"/>
        <result column="nick_name" property="nickName"/>
    </resultMap>

    <select id="findEntertainmentDescribes" resultMap="entertainmentDescribeVoMap">
        <![CDATA[
            SELECT
                e.id,
                e.title,
                e.entertainment_surface,
                e.content,
                e.publish_time,
                u.head_pic_url,
                u.nick_name
            FROM
                entertainment e, user u
            WHERE
                e.user_id = u.id
            ORDER BY
                e.publish_time desc
        ]]>
    </select>
</mapper>
